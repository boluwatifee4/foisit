<button class="theme-toggle" (click)="toggleTheme()">
  {{ theme() === 'light' ? 'Dark Mode' : 'Light Mode' }}
</button>

<div class="showcase-container">
  <header class="hero-section">
    <span class="hero-badge">Angular Wrapper</span>
    <h1 class="hero-title">Build Conversational UIs in Minutes</h1>
    <p class="hero-subtitle">
      Transform your Angular apps with natural language commands. Intelligent slot filling,
      async data loading, and beautiful UIâ€”all out of the box.
    </p>
    <div class="hero-actions">
      <button class="demo-btn" (click)="openAssistant()">
        Try Demo
      </button>
        <button class="demo-btn secondary" (click)="runEscalateDemo()">
          Escalate Demo
        </button>
      <a href="https://www.npmjs.com/package/@foisit/angular-wrapper" target="_blank" rel="noopener noreferrer" class="demo-btn secondary">
        View on NPM
      </a>
    </div>
  </header>

  <!-- Quick Start Guide -->
  <section class="glass-card">
    <h2 class="section-title">Get Started in 3 Steps</h2>
    <p><strong>Step 1:</strong> Install the package</p>
    <div class="code-block">
      <div class="code-header">
        <span>Terminal</span>
        <span>NPM</span>
      </div>
      <pre>npm install &#64;foisit/angular-wrapper</pre>
    </div>

    <p style="margin-top: 20px;"><strong>Step 2:</strong> Import the module</p>
    <div class="code-block">
      <div class="code-header">
        <span>app.config.ts</span>
      </div>
      <pre>{{ "import { importProvidersFrom } from '@angular/core';\nimport { AssistantModule } from '@foisit/angular-wrapper';\n\nexport const appConfig = {\n  providers: [\n    importProvidersFrom(\n      AssistantModule.forRoot({\n        commands: [\n          { \n            command: 'greet',\n            action: () => 'Hello, World!' \n          }\n        ]\n      })\n    )\n  ]\n};" }}</pre>
    </div>

    <p style="margin-top: 20px;"><strong>Step 3:</strong> Try it! Double-tap anywhere or click the floating button.</p>
  </section>

  <!-- Core Concepts -->
  <section class="glass-card">
    <h2 class="section-title">Why Foisit?</h2>
    <div class="feature-grid">
      <div class="feature-item">
        <h3>Natural Language</h3>
        <p>Users speak naturally. Foisit understands intent and maps to commands with AI-powered matching.</p>
      </div>
      <div class="feature-item">
        <h3>Smart Slot Filling</h3>
        <p>Missing parameters? Foisit auto-generates beautiful forms to collect what's needed.</p>
      </div>
      <div class="feature-item">
        <h3>Safe by Default</h3>
        <p>Critical actions require confirmation. Built-in safeguards protect destructive operations.</p>
      </div>
      <div class="feature-item">
        <h3>Dynamic Data</h3>
        <p>Load dropdown options from APIs on-demand. Perfect for user lists, settings, and more.</p>
      </div>
    </div>
  </section>

  <!-- Live Examples with Code -->
  <section class="glass-card">
    <h2 class="section-title">Interactive Examples</h2>
    <p style="color: var(--text-secondary); margin-bottom: 24px;">Open the assistant and try these commands live. Each shows the code powering it.</p>

    <!-- Example 1: Basic Command -->
    <div class="example-section">
      <h3>Basic Command</h3>
      <p>Say "help" - no parameters, instant response.</p>
      <div class="code-block">
        <div class="code-header">
          <span>TypeScript</span>
        </div>
        <pre>{{ "this.assistantService.addCommand({\n  command: 'help',\n  description: 'Show available commands',\n  action: async () => {\n    return 'I can help you with: User Management, Scheduling...';\n  }\n});" }}</pre>
      </div>
    </div>

    <!-- Example 2: String + Number Parameters with Validation -->
    <div class="example-section">
      <h3>Multi-Parameter with Validation</h3>
      <p>Say "create user" - collects name, email, age with validation.</p>
      <div class="code-block">
        <div class="code-header">
          <span>TypeScript</span>
        </div>
        <pre>{{ "this.assistantService.addCommand({\n  command: 'create user',\n  parameters: [\n    { name: 'name', type: 'string', required: true },\n    { name: 'email', type: 'string', required: true },\n    { name: 'age', type: 'number', required: true }\n  ],\n  action: async (params) => {\n    if (params.age < 18) {\n      return { type: 'error', message: 'Must be 18+' };\n    }\n    return { type: 'success', message: `User ${params.name} created!` };\n  }\n});" }}</pre>
      </div>
    </div>

    <!-- Example 3: Select Parameter -->
    <div class="example-section">
      <h3>Dropdown Selection</h3>
      <p>Say "change theme" - renders a dropdown picker.</p>
      <div class="code-block">
        <div class="code-header">
          <span>TypeScript</span>
        </div>
        <pre>{{ "this.assistantService.addCommand({\n  command: 'change theme',\n  parameters: [{\n    name: 'theme',\n    type: 'select',\n    options: [\n      { label: 'Blue Ocean', value: 'blue' },\n      { label: 'Forest Green', value: 'green' }\n    ]\n  }],\n  action: (params) => `Theme changed to ${params.theme}!`\n});" }}</pre>
      </div>
    </div>

    <!-- Example 4: Date Parameter -->
    <div class="example-section">
      <h3>Date Picker</h3>
      <p>Say "book appointment" - native date picker UI.</p>
      <div class="code-block">
        <div class="code-header">
          <span>TypeScript</span>
        </div>
        <pre>{{ "this.assistantService.addCommand({\n  command: 'book appointment',\n  parameters: [\n    { name: 'service', type: 'string', required: true },\n    { name: 'date', type: 'date', required: true }\n  ],\n  action: (params) => `Booked ${params.service} on ${params.date}`\n});" }}</pre>
      </div>
    </div>

    <!-- Example 5: Async Select -->
    <div class="example-section">
      <h3>Dynamic API Options</h3>
      <p>Say "schedule meeting" - loads team members from API.</p>
      <div class="code-block">
        <div class="code-header">
          <span>TypeScript</span>
        </div>
        <pre>{{ "this.assistantService.addCommand({\n  command: 'schedule meeting',\n  parameters: [{\n    name: 'member',\n    type: 'select',\n    getOptions: async () => {\n      const members = await api.getTeamMembers();\n      return members.map(m => ({ label: m.name, value: m.id }));\n    }\n  }],\n  action: (params) => `Meeting scheduled with ${params.member}`\n});" }}</pre>
      </div>
    </div>

    <!-- Example 6: Critical Action -->
    <div class="example-section">
      <h3>Protected Actions</h3>
      <p>Say "delete all records" - requires confirmation.</p>
      <div class="code-block">
        <div class="code-header">
          <span>TypeScript</span>
        </div>
        <pre>{{ "this.assistantService.addCommand({\n  command: 'delete all records',\n  critical: true, // Forces confirmation\n  action: async () => {\n    await database.deleteAll();\n    return { type: 'success', message: 'All records deleted.' };\n  }\n});" }}</pre>
      </div>
    </div>

    <!-- Example 7: File Upload -->
    <div class="example-section">
      <h3>File Upload</h3>
      <p>Say "upload file" - file picker with type restrictions.</p>
      <div class="code-block">
        <div class="code-header">
          <span>TypeScript</span>
        </div>
        <pre>{{ "this.assistantService.addCommand({\n  command: 'upload file',\n  parameters: [{\n    name: 'attachment',\n    type: 'file',\n    accept: ['image/*', 'audio/*'],\n    delivery: 'base64' // or 'file'\n  }],\n  action: (params) => `Received ${params.attachment.name}`\n});" }}</pre>
      </div>
    </div>
  </section>

  <!-- Parameter Types Reference -->
  <section class="glass-card">
    <h2 class="section-title">Parameter Types</h2>
    <div class="code-block">
      <pre>{{ "// STRING - Text input\n{ name: 'username', type: 'string', required: true }\n\n// NUMBER - Numeric input with optional min/max\n{ name: 'age', type: 'number', min: 0, max: 120 }\n\n// DATE - Native date picker\n{ name: 'appointmentDate', type: 'date' }\n\n// SELECT - Static dropdown\n{ name: 'role', type: 'select', options: [{ label: 'Admin', value: 'admin' }] }\n\n// SELECT - Async dropdown from API\n{ name: 'customer', type: 'select', getOptions: () => fetch('/api/customers').then(r => r.json()) }\n\n// FILE - File upload with restrictions\n{ name: 'attachment', type: 'file', accept: ['image/*'], delivery: 'base64' }" }}</pre>
    </div>
  </section>

  <!-- Interactive Sandbox -->
  <section class="glass-card">
    <h2 class="section-title">Try It Now</h2>
    <p style="color: var(--text-secondary); margin-bottom: 24px;">Open the assistant and test commands live:</p>

    <div style="display: flex; gap: 16px; flex-wrap: wrap;">
      <button class="demo-btn" (click)="openAssistant()">
        Open Assistant
      </button>
      <button class="demo-btn secondary" (click)="toggleAssistant()">
        Toggle with Callbacks
      </button>
    </div>
  </section>

  <!-- Programmatic Control -->
  <section class="glass-card">
    <h2 class="section-title">Programmatic API</h2>
    <p style="color: var(--text-secondary); margin-bottom: 20px;">Full control from your Angular services and components:</p>
    <div class="code-block">
      <pre>{{ "// Inject the service\nconstructor(private assistant: AssistantService) {}\n\n// Open/close the assistant\nthis.assistant.toggle();\n\n// Add commands dynamically\nthis.assistant.addCommand('search', async (params) => {\n  const results = await api.search(params.query);\n  return `Found ${results.length} results`;\n});\n\n// Remove commands\nthis.assistant.removeCommand('search');" }}</pre>
    </div>
  </section>

  <!-- Features Summary -->
  <section class="glass-card">
    <h2 class="section-title">Everything You Need</h2>
    <ul>
      <li>AI-powered natural language understanding</li>
      <li>Automatic form generation for missing parameters</li>
      <li>5 parameter types: string, number, date, select, file</li>
      <li>Async data loading for dynamic dropdowns</li>
      <li>Confirmation dialogs for destructive actions</li>
      <li>Full validation and error handling</li>
      <li>Programmatic API for dynamic commands</li>
      <li>Light and dark mode built-in</li>
      <li>Zero external dependencies</li>
      <li>100% TypeScript with full type safety</li>
    </ul>
  </section>
</div>
